---
title: 阿里面试题目
date: 2017-08-24 18:38:52
tags: 面试
---
# 阿里面试题目

------

![第一题][1]


  [1]: http://wx3.sinaimg.cn/mw690/a359ab18gy1fiv039e3k4j210o0faq3r.jpg
  
  实现思路： 递归到最后一层，然后在相应位置填上数值，返回上一层，在相应位置填上当前值的数值，填值的方法是反向填值，个数为下层的个数相乘，然后进入下一轮
  
  比如有一个数据如下：
  

    data = [
        ['yezi'],
        [2016, 2017],
        ['a','b','c']
    ]

步骤：
1. 递归到最后一层 `['a','b','c']`，在第三行的位置开始填数值a,b,c；然后保存上一层要开始填值得列数，这里是`column = 3`
2. 回到第二层`[2016, 2017]`, 这时循环的数值是2016，然后设置`key = column - i - 1` 让2016在第二行第三列的位置开始往前填，相应填在第三列 ---> 第二列 ---> 第一列位置， 然后开始下一次循环，i++
3. 这时到了2017，判断他有后续兄弟，于是递归到最后一层，再次从`column` 的位置开始填写，最后回到步骤1

这个算法有两步：
1. 第一步是计算每行每次需要填写的个数，比如data数据，对于第一层，yezi要填写的个数是后面层数长度相乘，即2*3 = 6， 2016和2017分别要填写3个，而第三层数值各一个
2. 第二步就是进行递归

代码如下：

    window.onload = function () {
      function fillSheet(sheet, data) {
        var index = 0;
        if (data.length === 0) return
        var column = 0
        var args = [].slice.call(arguments[1])
        // 计算每一行应该描绘多少个
        var amount = []
        var totalColumn = []
        var caculate = function () {
          args.map((key, index) => {
            amount.push(key.length)
          })
          while (amount.length !== 0) {
            amount.shift()
            let total = amount.reduce(function (before, next) {
              return before * next
            }, 1)
            totalColumn.push(total)
          }
        }
        // 给特定数组描绘表格
        var setValue = function (index, data) {
          for (let i = 0; i < data[index].length; i++) {
            let currentKey = data[index][i]
            let next = index + 1
            let arr = data[next]
            let key = null
            if (arr) {
              // 开始递归
              setValue(next, data)
              // 返回这层时填写当前数值
              for (let i = 0; i < totalColumn[index]; i++) {
                key = column - i - 1
                sheet.setValue(index, key, currentKey)
              }
            } else {
              // 最后一层填写表格
              key = column
              sheet.setValue(index, key, currentKey)
              column = key + 1
            }
          }
        }
        caculate(args)
        setValue(index, data)
      }
      class Sheet {
        setValue (row, column, value) {
          var top = row * 40
          var left = column * 100
          var div = document.createElement('div')
          div.style.display = 'inline-block'
          div.style.position = 'absolute'
          div.style.left = left + 'px'
          div.style.top = top + 'px'
          div.innerHTML = value
          document.body.appendChild(div)
        }
      }
      var data = [
      ['CNY', 'china'],
      [2016],
      ['jack', 'yezi'],
      ['a', 'b', 'c']
      ]
      var sheet = new Sheet()
      fillSheet(sheet, data)
      console.log('over')
    }
    
其中 `Sheet` 是为了测试代码效果而写的